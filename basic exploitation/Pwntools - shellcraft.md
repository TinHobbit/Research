# Pwntools - shellcraft
## Table of Contents
-	[Shellcraft](#Shellcraft)
-	[Local Shellcode](#Local-Shellcode)
-	[Bind Shellcode](#Bind-Shellcode)
-	[Reverse Shellcode](#Reverse-Shellcode)



related link: http://docs.pwntools.com/en/stable/shellcraft.html

## Shellcraft
-	nói 1 cách ngắn gọn thì module shellcraft này dùng để tạo 1 payload dựa theo yêu cầu của user
-	hỗ trợ nhiều hàm để có thể thuận tiện viết shellcode

|Architechture|operating system|
|-------------|----------------|
|AArch64, AMD64, ARM, intel80386, MIPS, Thumb|linux, freebsd|

**NOTE**: đôi khi shellcraft không thực sự chính xác 100%, vì vậy cần phải cẩn trọng trong việc tạo shellcode

## Local Shellcode
```
shellcraft.[arch].[OS].sh()
```
với đoạn code trên là ta có thể tạo ra 1 đoạn shell `execve('/bin/sh')` đơn giản với các arch, os được hỗ trợ

*	example:

![](https://i.imgur.com/EgzHMxn.png)

## Bind Shellcode
bạn có thể đọc thêm [link](https://www.lazenca.net/display/TEC/03.Bind+Shellcode) để biết thêm chi tiết về Bind Shellcode. Nói nôm na thì ta có thể hiểu là trong program có tạo socket để communicate qua host, port.

tương tự với local shellcode, ta chỉ cần đổi `sh` thành `bindsh` là có thể tự tạo 1 bind shellcode

**NOTE**: arg1 = port, arg2 = loại IP(thường là 'ipv4')
![](https://i.imgur.com/vz0VMPd.png)


## Reverse Shellcode

tương tự như Bind Shellcode trên, nhưng thay vì phải đợi host mở port ra thì ta dùng host chính mình để listen respone từ server

-	đầu tiên ta listen ở port mà ta muốn:

![](https://i.imgur.com/eM9GGlf.png)

-	sau đó tạo reverse shell là có thể listen:

![](https://i.imgur.com/xJLEDWo.png)

-	đã listen:

![](https://i.imgur.com/vc8NTIi.png)